<!DOCTYPE html>
<html lang="en">
<head>
    <title>Sentiment Analyzer</title>
    <link rel="stylesheet" href="/static/style.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
</head>

<body style="background:#694a4a; color:white;">
<div class="container d-flex justify-content-center align-items-center" style="height: 100vh;">
    <div class="card col-md-6 p-4" style="background:#4b3939; color:white; border-radius:12px;">

        <h2 class="text-center">ðŸ§  Sentiment Analyzer</h2>
        <p class="text-center text-muted">Check emotion, polarity & subjectivity of your text</p>

        <!-- â­ Form -->
        <form method="POST" action="/analyze" onsubmit="showLoader()">

            <textarea class="form-control" id="user_text" name="user_text"
                      rows="6" placeholder="Type your text..."
                      required></textarea>

            <button class="btn btn-primary w-100 mt-3">Analyze Sentiment</button>

        </form>

        <!-- â­ Dynamic Suggestions -->
        <div class="suggestions mt-4">
            <h5 class="mb-2">Try these examples:</h5>

            <div id="suggestion-box"></div>

            <button class="btn btn-outline-light w-100 mt-3" onclick="loadMoreSuggestions()">
                ðŸ”„ More Suggestions
            </button>
        </div>

        <!-- Loader -->
        <div class="loader" id="loading"></div>

    </div>
</div>

<!-- â­ CSS STYLING -->
<style>
.suggestion-btn {
    width: 100%;
    text-align: left;
    background: #222;
    color: white;
    border: none;
    padding: 10px 14px;
    margin-bottom: 8px;
    border-radius: 8px;
    cursor: pointer;
    border-left: 4px solid #443c35;
    transition: 0.2s ease-in-out;
}
.suggestion-btn:hover {
    background: #333;
}

.loader {
    display: none;
    width: 35px;
    height: 35px;
    border: 4px solid #444;
    border-top: 4px solid #4a3f36;
    border-radius: 50%;
    margin: 20px auto 0;
    animation: spin 0.9s linear infinite;
}
@keyframes spin {
    100% { transform: rotate(360deg); }
}
</style>

<!-- â­ JAVASCRIPT -->
<script>

// All available suggestions
const suggestions = [
    "I love this app! It is absolutely amazing.",
    "This is terrible. I did not like it at all.",
    "It is okay, not too good and not too bad.",
    "The movie was outstanding and inspiring!",
    "The service was disappointing and slow.",
    "I feel great today!",
    "I am not sure how I feel about this.",
    "This product exceeded my expectations!",
    "Worst experience ever.",
    "I kinda liked it, but it could be better.",
    "Amazing atmosphere and friendly staff!",
    "Nothing special, just an average experience.",
    "I really hated the food. It tasted awful.",
    "I absolutely enjoyed the stay!",
    "I'm confused about this situation."
];

// Load 3 random suggestions
function loadMoreSuggestions() {
    let box = document.getElementById("suggestion-box");
    box.innerHTML = "";

    let randomThree = suggestions.sort(() => 0.5 - Math.random()).slice(0, 3);

    randomThree.forEach(text => {
        let btn = document.createElement("button");
        btn.className = "suggestion-btn";
        btn.innerText = text;
        btn.onclick = () => fillSuggestion(text);
        box.appendChild(btn);
    });
}

// Autofill textarea
function fillSuggestion(text) {
    document.getElementById("user_text").value = text;
}

// Loader show
function showLoader(){
    document.getElementById("loading").style.display = "block";
}

// Load on page open
window.onload = loadMoreSuggestions;

</script>

</body>
</html>
